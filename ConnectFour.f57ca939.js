import{c as C,d as G,e as u,r as d,i as L,u as Z,t as I}from"./chunks/web.217e897e.js";const g=I('<button class="px-6 py-2.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 hover:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-300">Start</button>'),p=I('<h5 class="text-xl font-medium"></h5>'),O=I('<canvas class="w-full sm:w-2/3 border" width="640" height="550"></canvas>'),i={CANVAS_BACKGROUND_COLOUR:"blue",PLAYER_1_COLOUR:"red",PLAYER_2_COLOUR:"yellow",CIRCLE_SIZE:80,CIRCLE_SPACE:10,GAME_SIZE:{x:7,y:6}},n={EMPTY:0,RED:1,YELLOW:2},M=(t,e,r)=>{e.fillStyle=i.CANVAS_BACKGROUND_COLOUR,e.fillRect(0,0,r.x,r.y);const E=i.CIRCLE_SIZE/2;for(let r=0;r<i.GAME_SIZE.x;r++)for(let o=0;o<i.GAME_SIZE.y;o++){e.beginPath();const l=E+i.CIRCLE_SPACE;e.arc((r+1)*l+r*E,(o+1)*l+o*E,E,0,2*Math.PI),t[r][i.GAME_SIZE.y-1-o]===n.RED?e.fillStyle=i.PLAYER_1_COLOUR:t[r][i.GAME_SIZE.y-1-o]===n.YELLOW?e.fillStyle=i.PLAYER_2_COLOUR:e.fillStyle="white",e.fill()}},w=(t,e)=>{for(let r=0;r<i.GAME_SIZE.x;r++)if(t<(r+1)*e/i.GAME_SIZE.x)return r;return i.GAME_SIZE.x},x=(t,e)=>{if(i.GAME_SIZE.x<=e)return-1;for(let r=0;r<i.GAME_SIZE.y;r++)if(f[e][r]===n.EMPTY)return f[e][r]=t,r;return-1},P=t=>{for(let e=0;e<i.GAME_SIZE.x;e++)for(let r=0;r<i.GAME_SIZE.y;r++)if(t[e][r]===n.EMPTY)return!1;return!0},b=(t,e,r)=>{const E=t[e][r];{let n=1,o=e+1;for(;o<i.GAME_SIZE.x&&t[o][r]===E;)o++,n++;for(o=e-1;o>=0&&t[o][r]===E;)o--,n++;if(n>=4)return!0}{let n=1,o=r+1;for(;o<i.GAME_SIZE.y&&t[e][o]===E;)o++,n++;for(o=r-1;o>=0&&t[e][o]===E;)o--,n++;if(n>=4)return!0}{let n=1,o=e+1,l=r+1;for(;o<i.GAME_SIZE.x&&l<i.GAME_SIZE.y&&t[o][l]===E;)o++,l++,n++;for(o=e-1,l=r-1;o>=0&&l>=0&&t[o][l]===E;)o--,l--,n++;if(n>=4)return!0}{let n=1,o=e+1,l=r-1;for(;o<i.GAME_SIZE.x&&l>=0&&t[o][l]===E;)o++,l--,n++;for(o=e-1,l=r+1;o>=0&&l<i.GAME_SIZE.y&&t[o][l]===E;)o--,l++,n++;if(n>=4)return!0}return!1};let c,S,R,o,f,_=!1;const[Y,A]=C("Press Start"),h=(t,e)=>{A(e?t===n.RED?"Red player won":"Yellow player won":t===n.RED?"Red players turn":"Yellow players turn")},y=t=>{if(!_)return;const e=w(t.offsetX,R),r=x(o,e);-1!==r&&(M(f,c,S),b(f,e,r)?(_=!1,h(o,!0)):P(f)?(_=!1,A("It's a tie")):(o=o===n.RED?n.YELLOW:n.RED,h(o,!1)))};function D(){let t;const e=()=>{if(t.setAttribute("tabindex","0"),t.focus(),!_){_=!0,t.removeEventListener("click",y),t.addEventListener("click",y),f=[];for(let t=0;t<i.GAME_SIZE.x;t++){f[t]=[];for(let e=0;e<i.GAME_SIZE.y;e++)f[t][e]=n.EMPTY}o=n.RED,h(o,!1),S={x:t.width,y:t.height},R=t.clientWidth,c=t.getContext("2d",{alpha:!1}),M(f,c,S)}};return[(()=>{const t=u(g);return t.$$click=e,d(),t})(),(()=>{const t=u(p);return L(t,Y),t})(),(()=>{const e=u(O);return"function"==typeof t?Z(t,e):t=e,e})()]}G(["click"]);export{D as default};