import{c as h,d as g,g as n,r as x,i as O,t as y,u as S}from"./web.LHJWc1c8.js";var E=y('<button class="px-6 py-2.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 hover:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-300">Start'),R=y('<h5 class="text-xl font-medium">'),_=y('<canvas class="w-full sm:w-2/3 border"width=800 height=600>');const m=100,w="black",b="black",A="white",C="black",$="red",s=20,L=(t,r)=>{t.fillStyle=w,t.fillRect(0,0,r.x,r.y)},M=(t,r)=>{r.parts.forEach((r=>{t.fillStyle=b,t.fillRect(r.x*s,r.y*s,s,s),t.strokeStyle=A,t.lineWidth=2,t.strokeRect(r.x*s,r.y*s,s,s)}))},U=(t,r)=>{t.fillStyle=C,t.fillRect(r.x*s,r.y*s,s,s),t.strokeStyle=$,t.strokeRect(r.x*s,r.y*s,s,s)},l=t=>{switch(t){case 0:return{x:0,y:-1};case 1:return{x:0,y:1};case 2:return{x:-1,y:0};case 3:return{x:1,y:0};default:return}},K=(t,r)=>{switch(t){case 0:return 1==r?void 0:l(r);case 1:return 0==r?void 0:l(r);case 2:return 3==r?void 0:l(r);case 3:return 2==r?void 0:l(r);default:return}},F=(t,r)=>{const e=K(t.direction.direction,r);e&&(t.direction.direction=r,t.direction.vector=e),t.parts.unshift({x:t.parts[0].x+t.direction.vector.x,y:t.parts[0].y+t.direction.vector.y})},p=t=>({x:Math.floor(Math.random()*t.x),y:Math.floor(Math.random()*t.y)}),N=(t,r)=>{for(let r=4;r<t.parts.length;r++)if(t.parts[r].x===t.parts[0].x&&t.parts[r].y===t.parts[0].y)return!0;return t.parts[0].x<0||t.parts[0].x>r.x||t.parts[0].y<0||t.parts[0].y>r.y};let a,d=!1;const[G,u]=h("Press Start"),v=(t,r,e,s,o,i)=>{if(N(s,e))return d=!1,void u("GAME OVER, Score: "+i);setTimeout((()=>{F(s,a),s.parts[0].x===o.x&&s.parts[0].y===o.y?(u("Score: "+(i+=1)),o=p(e)):s.parts.pop(),L(t,r),U(t,o),M(t,s),v(t,r,e,s,o,i)}),m)},f=t=>{const r=t.code;"ArrowLeft"===r||"KeyA"===r?a=2:"ArrowUp"===r||"KeyW"===r?a=0:"ArrowRight"===r||"KeyD"===r?a=3:("ArrowDown"===r||"KeyS"===r)&&(a=1)};function P(){let t;const r=()=>{if(t.setAttribute("tabindex","0"),t.focus(),d)return;d=!0,t.removeEventListener("keydown",f),t.addEventListener("keydown",f),a=1;const r={x:t.width,y:t.height},e={x:r.x/s-1,y:r.y/s-1};u("Score: 0"),v(t.getContext("2d",{alpha:!1}),r,e,{direction:{direction:a,vector:l(a)},parts:[{x:3,y:3}]},p(e),0)};return[(e=n(E),e.$$click=r,x(),e),(()=>{var t=n(R);return O(t,G),t})(),(()=>{var r=n(_);return"function"==typeof t?S(t,r):t=r,r})()];var e}g(["click"]);export{P as default};