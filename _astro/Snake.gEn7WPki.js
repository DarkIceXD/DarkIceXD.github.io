import{c as g,d as R,g as d,r as w,i as x,u as O,t as f}from"./web.0984UVao.js";var S=f('<button class="px-6 py-2.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 hover:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-300">Start'),E=f('<h5 class="text-xl font-medium">'),_=f('<canvas class="w-full sm:w-2/3 border"width=800 height=600>');const m=100,L="black",U="black",b="white",A="black",C="red",s=20;var a=function(t){return t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t}(a||{});const $=(t,e)=>{t.fillStyle=L,t.fillRect(0,0,e.x,e.y)},M=(t,e)=>{e.parts.forEach((e=>{t.fillStyle=U,t.fillRect(e.x*s,e.y*s,s,s),t.strokeStyle=b,t.lineWidth=2,t.strokeRect(e.x*s,e.y*s,s,s)}))},K=(t,e)=>{t.fillStyle=A,t.fillRect(e.x*s,e.y*s,s,s),t.strokeStyle=C,t.strokeRect(e.x*s,e.y*s,s,s)},n=t=>{switch(t){case a.Up:return{x:0,y:-1};case a.Down:return{x:0,y:1};case a.Left:return{x:-1,y:0};case a.Right:return{x:1,y:0};default:return}},F=(t,e)=>{switch(t){case a.Up:return e==a.Down?void 0:n(e);case a.Down:return e==a.Up?void 0:n(e);case a.Left:return e==a.Right?void 0:n(e);case a.Right:return e==a.Left?void 0:n(e);default:return}},N=(t,e)=>{const r=F(t.direction.direction,e);r&&(t.direction.direction=e,t.direction.vector=r),t.parts.unshift({x:t.parts[0].x+t.direction.vector.x,y:t.parts[0].y+t.direction.vector.y})},h=t=>({x:Math.floor(Math.random()*t.x),y:Math.floor(Math.random()*t.y)}),G=(t,e)=>{for(let e=4;e<t.parts.length;e++)if(t.parts[e].x===t.parts[0].x&&t.parts[e].y===t.parts[0].y)return!0;return t.parts[0].x<0||t.parts[0].x>e.x||t.parts[0].y<0||t.parts[0].y>e.y};let i,u=!1;const[B,y]=g("Press Start"),v=(t,e,r,a,s,o)=>{if(G(a,r))return u=!1,void y("GAME OVER, Score: "+o);setTimeout((()=>{N(a,i),a.parts[0].x===s.x&&a.parts[0].y===s.y?(y("Score: "+(o+=1)),s=h(r)):a.parts.pop(),$(t,e),K(t,s),M(t,a),v(t,e,r,a,s,o)}),m)},p=t=>{const e=t.code;"ArrowLeft"===e||"KeyA"===e?i=a.Left:"ArrowUp"===e||"KeyW"===e?i=a.Up:"ArrowRight"===e||"KeyD"===e?i=a.Right:("ArrowDown"===e||"KeyS"===e)&&(i=a.Down)};function T(){let t;const e=()=>{if(t.setAttribute("tabindex","0"),t.focus(),u)return;u=!0,t.removeEventListener("keydown",p),t.addEventListener("keydown",p),i=a.Down;const e={x:t.width,y:t.height},r={x:e.x/s-1,y:e.y/s-1};y("Score: 0"),v(t.getContext("2d",{alpha:!1}),e,r,{direction:{direction:i,vector:n(i)},parts:[{x:3,y:3}]},h(r),0)};return[(r=d(S),r.$$click=e,w(),r),(()=>{var t=d(E);return x(t,B),t})(),(()=>{var e=d(_);return"function"==typeof t?O(t,e):t=e,e})()];var r}R(["click"]);export{T as default};