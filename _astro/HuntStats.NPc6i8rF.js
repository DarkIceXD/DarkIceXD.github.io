import{c as L,d as Q,g as h,a as b,i as r,b as N,r as V,t as f,F as A}from"./web.8YA5SXon.js";import{r as W}from"./readFile.WI4_datc.js";const X=f('<div class="rounded-lg shadow-lg dark:bg-gray-900/50 backdrop-blur space-y-6 p-6"><h1 class="text-xl font-medium">Open your "attributes.xml". You can find it in the "Hunt Showdown/user/profiles/default" directory.</h1><input type=file accept=.xml><!$><!/>'),Z=f('<table class="min-w-full text-center"><thead class=border-b><tr><th class="border-r px-1">Name</th><th class="border-r px-1">MMR</th><th class="border-r px-1">Bounties Picked Up</th><th class="border-r px-1">Bounties Extracted</th><th class="border-r px-1">Killed by Me</th><th class="border-r px-1">Killed by Teammate</th><th class="border-r px-1">Killed Me</th><th class=px-1>Killed Teammate</th></tr></thead><tbody class=border-b></tbody><tfoot><tr><td>Own Team: <!$><!/></td><td>Team MMR: <!$><!/></td><td></td><td></td><td></td><td></td><td></td><td>'),tt=f("<tr><td class=border-r></td><td class=border-r></td><td class=border-r></td><td class=border-r><!$><!/><!$><!/></td><td class=border-r></td><td class=border-r></td><td class=border-r></td><td>"),[et,lt]=L([]),g=(t,e,a)=>{const r=t.querySelector(`[name='MissionBagTeam_${e}_${a}']`);return r?r.getAttribute("value"):""},a=(t,e,a,r)=>{const i=t.querySelector(`[name='MissionBagPlayer_${e}_${a}_${r}']`);return i?i.getAttribute("value"):""},s=(t,e)=>{const a=e.matchAll(/@(\w*) ~([\d:]*)/g);let r=[];for(const e of a)e[1]==t&&r.push(e[2]);return r},it=t=>{const e=(new DOMParser).parseFromString(t,"application/xml"),r=e.querySelector("[name='MissionBagNumTeams']");if(!r)return;const i=parseInt(r.getAttribute("value"));let d=[];for(let t=0;t<i;t++){const r=parseInt(g(e,t,"numplayers"));if(isNaN(r))break;let i=[];for(let d=0;d<r;d++)i.push({name:a(e,t,d,"blood_line_name"),mmr:a(e,t,d,"mmr"),bountiesExtracted:parseInt(a(e,t,d,"bountyextracted")),downedbyteammate:s("ui_team_details_downed",a(e,t,d,"tooltip_downedbyteammate")),bountyextracted:s("ui_team_details_extracted_bounty",a(e,t,d,"tooltipbountyextracted")),bountypickedup:s("ui_team_details_carried_bounty",a(e,t,d,"tooltipbountypickedup")),downedbyme:s("ui_team_details_downed",a(e,t,d,"tooltipdownedbyme")),downedme:s("ui_team_details_downed",a(e,t,d,"tooltipdownedme")),downedteammate:s("ui_team_details_downed",a(e,t,d,"tooltipdownedteammate")),killedbyme:s("ui_team_details_killed",a(e,t,d,"tooltipkilledbyme")),killedbyteammate:s("ui_team_details_killed",a(e,t,d,"tooltipkilledbyteammate")),killedme:s("ui_team_details_killed",a(e,t,d,"tooltipkilledme")),killedteammate:s("ui_team_details_killed",a(e,t,d,"tooltipkilledteammate"))});d.push({isOwnTeam:"true"==g(e,t,"ownteam"),mmr:g(e,t,"mmr"),players:i})}lt(d)},c=(t,e)=>t.map((t=>`[${t}]${e}`)).join(", ");function at(){return(()=>{const t=h(X),e=t.firstChild.nextSibling,a=e.nextSibling,[i,d]=b(a.nextSibling);return e.$$input=t=>W(t.target.files[0],it),r(t,N(A,{get each(){return et()},children:t=>(()=>{const e=h(Z),a=e.firstChild.nextSibling,i=a.nextSibling.firstChild.firstChild,d=i.firstChild.nextSibling,[l,n]=b(d.nextSibling),s=i.nextSibling,o=s.firstChild.nextSibling,[m,u]=b(o.nextSibling);return r(a,N(A,{get each(){return t.players},children:t=>(()=>{const e=h(tt),a=e.firstChild,i=a.nextSibling,d=i.nextSibling,l=d.nextSibling,n=l.firstChild,[s,o]=b(n.nextSibling),m=s.nextSibling,[u,p]=b(m.nextSibling),x=l.nextSibling,_=x.nextSibling,g=_.nextSibling,y=g.nextSibling;return r(a,(()=>t.name)),r(i,(()=>t.mmr)),r(d,(()=>c(t.bountypickedup,"🪙"))),r(l,(()=>c(t.bountyextracted,"")),s,o),r(l,(()=>"🪙".repeat(t.bountiesExtracted)),u,p),r(x,(()=>c(t.downedbyme.concat(t.killedbyme),"💀"))),r(_,(()=>c(t.downedbyteammate.concat(t.killedbyteammate),"💀"))),r(g,(()=>c(t.downedme.concat(t.killedme),"💀"))),r(y,(()=>c(t.downedteammate.concat(t.killedteammate),"💀"))),e})()})),r(i,(()=>t.isOwnTeam?"✅":"❌"),l,n),r(s,(()=>t.mmr),m,u),e})()}),i,d),V(),t})()}Q(["input"]);export{at as default};