import{c as h,d as Z,g as x,a as ee,i,b as p,e as f,r as v,s as R,t as k,f as j,F as z,h as te}from"./web.14707a3e.js";import{B as re}from"./index.a3a4e828.js";import{r as ae}from"./readFile.fb16cf44.js";const le=k('<div class="bg-white dark:bg-slate-800 shadow rounded-md space-y-6 p-6"><input type=file accept=.json><textarea rows=4 placeholder=Filter class="form-textarea shadow w-full rounded bg-gray-50 dark:bg-slate-800"></textarea><label><span>Max account creation date</span><input type=date></label><table class="w-full text-center"><thead class=border-b><tr><th class=px-1>Avatar</th><th class=px-1>Name</th><th class=px-1>Real name</th><th class=px-1>Creation date</th><th class=px-1>Remove</th></tr></thead><tbody class=border-b></tbody></table><div class="flex justify-center"><ul class="inline-flex items-center justify-center"><li><a class="block px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"><svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"clip-rule=evenodd></path></svg></a></li><!$><!/><li><a class="block px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"><svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"clip-rule=evenodd>'),se=k('<tr><td><a target=_blank rel="noopener noreferrer"><img alt=""srcset=""></a></td><td></td><td></td><td></td><td><button class="bg-red-600 text-white rounded shadow hover:bg-red-700 hover:shadow-lg active:bg-red-800 active:shadow-lg transition duration-300">'),ie=k("<li><a>"),m=100,B=10;let O=[];const[S,T]=h([]),[ne,oe]=h([]),[$,ge]=h(localStorage.getItem("filter")??""),[_,de]=h(parseInt(localStorage.getItem("maxAccountDate"))),[o,ce]=h(parseInt(localStorage.getItem("page")??1)),y=new Set(JSON.parse(localStorage.getItem("blackList"))),he=e=>{O=JSON.parse(e),w(localStorage.getItem("filter")??"")},J=()=>Math.ceil(S().length/m),be=(e,t,a)=>{if(e[4]<t)return!1;for(let l=1;l<=2;l++)if(e[l]&&e[l].toLowerCase().split(" ").some(s=>a.includes(s)))return!1;return!0},w=()=>{const e=$().toLowerCase().split(/[ ,]+/);T(O.filter(t=>!y.has(t[0])&&be(t,_()/1e3,e))),c(o()),localStorage.setItem("filter",$()),localStorage.setItem("maxAccountDate",_().toString())},c=e=>{if(e<=0||e>J())return;const t=(e-1)*m,a=t+m;ce(e),oe(S().slice(t,a)),localStorage.setItem("page",e)},fe=e=>{const t=parseInt(e)*1e3;return new Date(t).toLocaleDateString()},ue=e=>{T(S().filter(t=>t[0]!=e)),c(o()),y.add(e),localStorage.setItem("blackList",JSON.stringify(Array.from(y)))},xe=(e,t)=>{const a=Math.max(0,e-B),l=Math.min(t,e+B),s=Array.from({length:l-a},(u,b)=>b+a);return a>0&&s.unshift(0),l<t&&s.push(t-1),s};function $e(){return(()=>{const e=x(le),t=e.firstChild,a=t.nextSibling,l=a.nextSibling,s=l.firstChild,u=s.nextSibling,b=l.nextSibling,H=b.firstChild,q=H.nextSibling,G=b.nextSibling,C=G.firstChild,I=C.firstChild,K=I.firstChild,Q=I.nextSibling,[A,U]=ee(Q.nextSibling),V=A.nextSibling,W=V.firstChild;return t.$$input=r=>ae(r.target.files[0],he),a.addEventListener("change",r=>{ge(r.currentTarget.value),w()}),u.addEventListener("change",r=>{de(r.target.valueAsNumber),w()}),i(q,p(z,{get each(){return ne()},children:r=>(()=>{const g=x(se),n=g.firstChild,L=n.firstChild,X=L.firstChild,M=n.nextSibling,N=M.nextSibling,D=N.nextSibling,Y=D.nextSibling,P=Y.firstChild;return i(M,()=>r[1]),i(N,()=>r[2]),i(D,()=>fe(r[4])),P.$$click=()=>ue(r[0]),i(P,p(re,{size:64})),f(d=>{const E="https://steamcommunity.com/profiles/"+r[0],F="https://avatars.steamstatic.com/"+r[3]+"_full.jpg";return E!==d._v$&&j(L,"href",d._v$=E),F!==d._v$2&&j(X,"src",d._v$2=F),d},{_v$:void 0,_v$2:void 0}),v(),g})()})),K.$$click=()=>c(o()-1),i(C,p(z,{get each(){return xe(o(),J())},children:r=>(()=>{const g=x(ie),n=g.firstChild;return n.$$click=()=>c(r+1),i(n,r+1),f(()=>te(n,o()==r+1?"z-10 px-3 py-2 leading-tight text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white")),v(),g})()}),A,U),W.$$click=()=>c(o()+1),f(()=>R(a,"value",$())),f(()=>R(u,"value",new Date(_()).toISOString().split("T")[0])),v(),e})()}Z(["input","click"]);export{$e as default};
