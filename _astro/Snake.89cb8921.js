import{c as v,d as R,g as d,r as w,i as x,u as O,t as f}from"./web.14707a3e.js";const S=f('<button class="px-6 py-2.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 hover:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-300">Start'),E=f('<h5 class="text-xl font-medium">'),_=f('<canvas class="w-full sm:w-2/3 border"width=800 height=600>'),m=100,L="black",U="black",b="white",A="black",C="red",s=20;var o=function(t){return t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t}(o||{});const $=(t,e)=>{t.fillStyle=L,t.fillRect(0,0,e.x,e.y)},M=(t,e)=>{e.parts.forEach(r=>{t.fillStyle=U,t.fillRect(r.x*s,r.y*s,s,s),t.strokeStyle=b,t.lineWidth=2,t.strokeRect(r.x*s,r.y*s,s,s)})},K=(t,e)=>{t.fillStyle=A,t.fillRect(e.x*s,e.y*s,s,s),t.strokeStyle=C,t.strokeRect(e.x*s,e.y*s,s,s)},n=t=>{switch(t){case o.Up:return{x:0,y:-1};case o.Down:return{x:0,y:1};case o.Left:return{x:-1,y:0};case o.Right:return{x:1,y:0};default:return}},F=(t,e)=>{switch(t){case o.Up:return e==o.Down?void 0:n(e);case o.Down:return e==o.Up?void 0:n(e);case o.Left:return e==o.Right?void 0:n(e);case o.Right:return e==o.Left?void 0:n(e);default:return}},N=(t,e)=>{const r=F(t.direction.direction,e);r&&(t.direction.direction=e,t.direction.vector=r),t.parts.unshift({x:t.parts[0].x+t.direction.vector.x,y:t.parts[0].y+t.direction.vector.y})},h=t=>({x:Math.floor(Math.random()*t.x),y:Math.floor(Math.random()*t.y)}),G=(t,e)=>{for(let r=4;r<t.parts.length;r++)if(t.parts[r].x===t.parts[0].x&&t.parts[r].y===t.parts[0].y)return!0;return t.parts[0].x<0||t.parts[0].x>e.x||t.parts[0].y<0||t.parts[0].y>e.y};let u=!1,i;const[B,y]=v("Press Start"),g=(t,e,r,a,l,c)=>{if(G(a,r)){u=!1,y("GAME OVER, Score: "+c);return}setTimeout(()=>{N(a,i),a.parts[0].x===l.x&&a.parts[0].y===l.y?(c+=1,y("Score: "+c),l=h(r)):a.parts.pop(),$(t,e),K(t,l),M(t,a),g(t,e,r,a,l,c)},m)},p=t=>{const e=t.code;e==="ArrowLeft"||e==="KeyA"?i=o.Left:e==="ArrowUp"||e==="KeyW"?i=o.Up:e==="ArrowRight"||e==="KeyD"?i=o.Right:(e==="ArrowDown"||e==="KeyS")&&(i=o.Down)};function T(){let t;const e=()=>{if(t.setAttribute("tabindex","0"),t.focus(),u)return;u=!0,t.removeEventListener("keydown",p),t.addEventListener("keydown",p),i=o.Down;const r={x:t.width,y:t.height},a={x:r.x/s-1,y:r.y/s-1};y("Score: 0"),g(t.getContext("2d",{alpha:!1}),r,a,{direction:{direction:i,vector:n(i)},parts:[{x:3,y:3}]},h(a),0)};return[(()=>{const r=d(S);return r.$$click=e,w(),r})(),(()=>{const r=d(E);return x(r,B),r})(),(()=>{const r=d(_),a=t;return typeof a=="function"?O(a,r):t=r,r})()]}R(["click"]);export{T as default};
