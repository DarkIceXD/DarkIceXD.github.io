import{c as v,d as g,g as n,r as x,i as O,u as S,t as y}from"./web.c5a45343.js";const E=y('<button class="px-6 py-2.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 hover:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-300">Start</button>'),R=y('<h5 class="text-xl font-medium"></h5>'),_=y('<canvas class="w-full sm:w-2/3 border" width="800" height="600"></canvas>'),m=100,w="black",b="black",A="white",C="black",$="red",s=20,L=(t,r)=>{t.fillStyle=w,t.fillRect(0,0,r.x,r.y)},M=(t,r)=>{r.parts.forEach(e=>{t.fillStyle=b,t.fillRect(e.x*s,e.y*s,s,s),t.strokeStyle=A,t.lineWidth=2,t.strokeRect(e.x*s,e.y*s,s,s)})},U=(t,r)=>{t.fillStyle=C,t.fillRect(r.x*s,r.y*s,s,s),t.strokeStyle=$,t.strokeRect(r.x*s,r.y*s,s,s)},c=t=>{switch(t){case 0:return{x:0,y:-1};case 1:return{x:0,y:1};case 2:return{x:-1,y:0};case 3:return{x:1,y:0};default:return}},K=(t,r)=>{switch(t){case 0:return r==1?void 0:c(r);case 1:return r==0?void 0:c(r);case 2:return r==3?void 0:c(r);case 3:return r==2?void 0:c(r);default:return}},F=(t,r)=>{const e=K(t.direction.direction,r);e&&(t.direction.direction=r,t.direction.vector=e),t.parts.unshift({x:t.parts[0].x+t.direction.vector.x,y:t.parts[0].y+t.direction.vector.y})},p=t=>({x:Math.floor(Math.random()*t.x),y:Math.floor(Math.random()*t.y)}),N=(t,r)=>{for(let e=4;e<t.parts.length;e++)if(t.parts[e].x===t.parts[0].x&&t.parts[e].y===t.parts[0].y)return!0;return t.parts[0].x<0||t.parts[0].x>r.x||t.parts[0].y<0||t.parts[0].y>r.y};let d=!1,i;const[G,u]=v("Press Start"),h=(t,r,e,o,a,l)=>{if(N(o,e)){d=!1,u("GAME OVER, Score: "+l);return}setTimeout(()=>{F(o,i),o.parts[0].x===a.x&&o.parts[0].y===a.y?(l+=1,u("Score: "+l),a=p(e)):o.parts.pop(),L(t,r),U(t,a),M(t,o),h(t,r,e,o,a,l)},m)},f=t=>{const r=t.code;r==="ArrowLeft"||r==="KeyA"?i=2:r==="ArrowUp"||r==="KeyW"?i=0:r==="ArrowRight"||r==="KeyD"?i=3:(r==="ArrowDown"||r==="KeyS")&&(i=1)};function P(){let t;const r=()=>{if(t.setAttribute("tabindex","0"),t.focus(),d)return;d=!0,t.removeEventListener("keydown",f),t.addEventListener("keydown",f),i=1;const e={x:t.width,y:t.height},o={x:e.x/s-1,y:e.y/s-1};u("Score: 0"),h(t.getContext("2d",{alpha:!1}),e,o,{direction:{direction:i,vector:c(i)},parts:[{x:3,y:3}]},p(o),0)};return[(()=>{const e=n(E);return e.$$click=r,x(),e})(),(()=>{const e=n(R);return O(e,G),e})(),(()=>{const e=n(_),o=t;return typeof o=="function"?S(o,e):t=e,e})()]}g(["click"]);export{P as default};
