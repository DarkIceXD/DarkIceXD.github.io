import{c as _,d as x,g as h,r as C,i as Y,u as b,t as g}from"./web.8a506dcf.js";const v=g('<button class="px-6 py-2.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 hover:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-300">Start'),S=g('<h5 class="text-xl font-medium">'),O=g('<canvas class="w-full sm:w-2/3 border"width=640 height=550>'),D="blue",M="red",$="yellow",A=80,W=10,n={x:7,y:6};var f=function(t){return t[t.EMPTY=0]="EMPTY",t[t.RED=1]="RED",t[t.YELLOW=2]="YELLOW",t}(f||{});const L=(t,e,r)=>{e.fillStyle=D,e.fillRect(0,0,r.x,r.y);for(let r=0;r<n.x;r++)for(let o=0;o<n.y;o++){e.beginPath();const l=50;e.arc((r+1)*l+40*r,(o+1)*l+40*o,40,0,2*Math.PI),t[r][n.y-1-o]===f.RED?e.fillStyle=M:t[r][n.y-1-o]===f.YELLOW?e.fillStyle=$:e.fillStyle="white",e.fill()}},k=(t,e)=>{for(let r=0;r<n.x;r++)if(t<(r+1)*e/n.x)return r;return n.x},P=(t,e)=>{if(n.x<=e)return-1;for(let r=0;r<n.y;r++)if(o[e][r]===f.EMPTY)return o[e][r]=t,r;return-1},I=t=>{for(let e=0;e<n.x;e++)for(let r=0;r<n.y;r++)if(t[e][r]===f.EMPTY)return!1;return!0},T=(t,e,r)=>{const o=t[e][r];{let l=1,f=e+1;for(;f<n.x&&t[f][r]===o;)f++,l++;for(f=e-1;f>=0&&t[f][r]===o;)f--,l++;if(l>=4)return!0}{let l=1,f=r+1;for(;f<n.y&&t[e][f]===o;)f++,l++;for(f=r-1;f>=0&&t[e][f]===o;)f--,l++;if(l>=4)return!0}{let l=1,f=e+1,i=r+1;for(;f<n.x&&i<n.y&&t[f][i]===o;)f++,i++,l++;for(f=e-1,i=r-1;f>=0&&i>=0&&t[f][i]===o;)f--,i--,l++;if(l>=4)return!0}{let l=1,f=e+1,i=r-1;for(;f<n.x&&i>=0&&t[f][i]===o;)f++,i--,l++;for(f=e-1,i=r+1;f>=0&&i<n.y&&t[f][i]===o;)f--,i++,l++;if(l>=4)return!0}return!1};let E,d,w,u,o,c=!1;const[j,y]=_("Press Start"),R=(t,e)=>{y(e?t===f.RED?"Red player won":"Yellow player won":t===f.RED?"Red players turn":"Yellow players turn")},p=t=>{if(!c)return;const e=k(t.offsetX,w),r=P(u,e);-1!==r&&(L(o,E,d),T(o,e,r)?(c=!1,R(u,!0)):I(o)?(c=!1,y("It's a tie")):(u=u===f.RED?f.YELLOW:f.RED,R(u,!1)))};function U(){let t;const e=()=>{if(t.setAttribute("tabindex","0"),t.focus(),!c){c=!0,t.removeEventListener("click",p),t.addEventListener("click",p),o=[];for(let t=0;t<n.x;t++){o[t]=[];for(let e=0;e<n.y;e++)o[t][e]=f.EMPTY}u=f.RED,R(u,!1),d={x:t.width,y:t.height},w=t.clientWidth,E=t.getContext("2d",{alpha:!1}),L(o,E,d)}};return[(()=>{const t=h(v);return t.$$click=e,C(),t})(),(()=>{const t=h(S);return Y(t,j),t})(),(()=>{const e=h(O);return"function"==typeof t?b(t,e):t=e,e})()]}x(["click"]);export{U as default};