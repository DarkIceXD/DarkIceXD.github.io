import{c as w,d as _,g as h,r as x,i as C,u as Y,t as g}from"./web.0984UVao.js";var b=g('<button class="px-6 py-2.5 bg-blue-600 text-white rounded shadow hover:bg-blue-700 hover:shadow-lg active:bg-blue-800 active:shadow-lg transition duration-300">Start'),S=g('<h5 class="text-xl font-medium">'),O=g('<canvas class="w-full sm:w-2/3 border"width=640 height=550>');const D="blue",M="red",$="yellow",A=80,W=10,a={x:7,y:6};var f=function(t){return t[t.EMPTY=0]="EMPTY",t[t.RED=1]="RED",t[t.YELLOW=2]="YELLOW",t}(f||{});const v=(t,e,r)=>{e.fillStyle=D,e.fillRect(0,0,r.x,r.y);for(let r=0;r<a.x;r++)for(let o=0;o<a.y;o++){e.beginPath();const l=50;e.arc((r+1)*l+40*r,(o+1)*l+40*o,40,0,2*Math.PI),t[r][a.y-1-o]===f.RED?e.fillStyle=M:t[r][a.y-1-o]===f.YELLOW?e.fillStyle=$:e.fillStyle="white",e.fill()}},k=(t,e)=>{for(let r=0;r<a.x;r++)if(t<(r+1)*e/a.x)return r;return a.x},P=(t,e)=>{if(a.x<=e)return-1;for(let r=0;r<a.y;r++)if(o[e][r]===f.EMPTY)return o[e][r]=t,r;return-1},I=t=>{for(let e=0;e<a.x;e++)for(let r=0;r<a.y;r++)if(t[e][r]===f.EMPTY)return!1;return!0},T=(t,e,r)=>{const o=t[e][r];{let l=1,f=e+1;for(;f<a.x&&t[f][r]===o;)f++,l++;for(f=e-1;f>=0&&t[f][r]===o;)f--,l++;if(l>=4)return!0}{let l=1,f=r+1;for(;f<a.y&&t[e][f]===o;)f++,l++;for(f=r-1;f>=0&&t[e][f]===o;)f--,l++;if(l>=4)return!0}{let l=1,f=e+1,n=r+1;for(;f<a.x&&n<a.y&&t[f][n]===o;)f++,n++,l++;for(f=e-1,n=r-1;f>=0&&n>=0&&t[f][n]===o;)f--,n--,l++;if(l>=4)return!0}{let l=1,f=e+1,n=r-1;for(;f<a.x&&n>=0&&t[f][n]===o;)f++,n--,l++;for(f=e-1,n=r+1;f>=0&&n<a.y&&t[f][n]===o;)f--,n++,l++;if(l>=4)return!0}return!1};let E,d,L,u,o,c=!1;const[j,y]=w("Press Start"),R=(t,e)=>{y(e?t===f.RED?"Red player won":"Yellow player won":t===f.RED?"Red players turn":"Yellow players turn")},p=t=>{if(!c)return;const e=k(t.offsetX,L),r=P(u,e);-1!==r&&(v(o,E,d),T(o,e,r)?(c=!1,R(u,!0)):I(o)?(c=!1,y("It's a tie")):(u=u===f.RED?f.YELLOW:f.RED,R(u,!1)))};function U(){let t;const e=()=>{if(t.setAttribute("tabindex","0"),t.focus(),!c){c=!0,t.removeEventListener("click",p),t.addEventListener("click",p),o=[];for(let t=0;t<a.x;t++){o[t]=[];for(let e=0;e<a.y;e++)o[t][e]=f.EMPTY}u=f.RED,R(u,!1),d={x:t.width,y:t.height},L=t.clientWidth,E=t.getContext("2d",{alpha:!1}),v(o,E,d)}};return[(r=h(b),r.$$click=e,x(),r),(()=>{var t=h(S);return C(t,j),t})(),(()=>{var e=h(O);return"function"==typeof t?Y(t,e):t=e,e})()];var r}_(["click"]);export{U as default};