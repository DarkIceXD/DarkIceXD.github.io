import{c as h,d as Z,g as x,a as tt,i,b as v,e as u,r as p,s as R,t as k,f as j,F as z,h as et}from"./web.8a506dcf.js";import{B as rt}from"./index.2c3c9dc0.js";import{r as at}from"./readFile.fb16cf44.js";const lt=k('<div class="bg-white dark:bg-slate-800 shadow rounded-md space-y-6 p-6"><input type=file accept=.json><textarea rows=4 placeholder=Filter class="form-textarea shadow w-full rounded bg-gray-50 dark:bg-slate-800"></textarea><label><span>Max account creation date</span><input type=date></label><table class="w-full text-center"><thead class=border-b><tr><th class=px-1>Avatar</th><th class=px-1>Name</th><th class=px-1>Real name</th><th class=px-1>Creation date</th><th class=px-1>Remove</th></tr></thead><tbody class=border-b></tbody></table><div class="flex justify-center"><ul class="inline-flex items-center justify-center"><li><a class="block px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"><svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"clip-rule=evenodd></path></svg></a></li><!$><!/><li><a class="block px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"><svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"clip-rule=evenodd>'),st=k('<tr><td><a target=_blank rel="noopener noreferrer"><img alt=""srcset=""></a></td><td></td><td></td><td></td><td><button class="bg-red-600 text-white rounded shadow hover:bg-red-700 hover:shadow-lg active:bg-red-800 active:shadow-lg transition duration-300">'),it=k("<li><a>"),$=100,B=10;let O=[];const[S,T]=h([]),[nt,ot]=h([]),[m,gt]=h(localStorage.getItem("filter")??""),[_,dt]=h(parseInt(localStorage.getItem("maxAccountDate"))),[o,ct]=h(parseInt(localStorage.getItem("page")??1)),y=new Set(JSON.parse(localStorage.getItem("blackList"))),ht=t=>{O=JSON.parse(t),w(localStorage.getItem("filter")??"")},J=()=>Math.ceil(S().length/$),bt=(t,e,a)=>{if(t[4]<e)return!1;for(let l=1;l<=2;l++)if(t[l]&&t[l].toLowerCase().split(" ").some(s=>a.includes(s)))return!1;return!0},w=()=>{const t=m().toLowerCase().split(/[ ,]+/);T(O.filter(e=>!y.has(e[0])&&bt(e,_()/1e3,t))),c(o()),localStorage.setItem("filter",m()),localStorage.setItem("maxAccountDate",_().toString())},c=t=>{if(t<=0||t>J())return;const e=(t-1)*$,a=e+$;ct(t),ot(S().slice(e,a)),localStorage.setItem("page",t)},ut=t=>{const e=parseInt(t)*1e3;return new Date(e).toLocaleDateString()},ft=t=>isNaN(t)?"":new Date(t).toISOString().split("T")[0],xt=t=>{T(S().filter(e=>e[0]!=t)),c(o()),y.add(t),localStorage.setItem("blackList",JSON.stringify(Array.from(y)))},vt=(t,e)=>{const a=Math.max(0,t-B),l=Math.min(e,t+B),s=Array.from({length:l-a},(f,b)=>b+a);return a>0&&s.unshift(0),l<e&&s.push(e-1),s};function _t(){return(()=>{const t=x(lt),e=t.firstChild,a=e.nextSibling,l=a.nextSibling,s=l.firstChild,f=s.nextSibling,b=l.nextSibling,H=b.firstChild,q=H.nextSibling,G=b.nextSibling,C=G.firstChild,I=C.firstChild,K=I.firstChild,Q=I.nextSibling,[A,U]=tt(Q.nextSibling),V=A.nextSibling,W=V.firstChild;return e.$$input=r=>at(r.target.files[0],ht),a.addEventListener("change",r=>{gt(r.currentTarget.value),w()}),f.addEventListener("change",r=>{dt(r.target.valueAsNumber),w()}),i(q,v(z,{get each(){return nt()},children:r=>(()=>{const g=x(st),n=g.firstChild,N=n.firstChild,X=N.firstChild,L=n.nextSibling,M=L.nextSibling,D=M.nextSibling,Y=D.nextSibling,P=Y.firstChild;return i(L,()=>r[1]),i(M,()=>r[2]),i(D,()=>ut(r[4])),P.$$click=()=>xt(r[0]),i(P,v(rt,{size:64})),u(d=>{const E="https://steamcommunity.com/profiles/"+r[0],F="https://avatars.steamstatic.com/"+r[3]+"_full.jpg";return E!==d._v$&&j(N,"href",d._v$=E),F!==d._v$2&&j(X,"src",d._v$2=F),d},{_v$:void 0,_v$2:void 0}),p(),g})()})),K.$$click=()=>c(o()-1),i(C,v(z,{get each(){return vt(o(),J())},children:r=>(()=>{const g=x(it),n=g.firstChild;return n.$$click=()=>c(r+1),i(n,r+1),u(()=>et(n,o()==r+1?"z-10 px-3 py-2 leading-tight text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white")),p(),g})()}),A,U),W.$$click=()=>c(o()+1),u(()=>R(a,"value",m())),u(()=>R(f,"value",ft(_()))),p(),t})()}Z(["input","click"]);export{_t as default};
